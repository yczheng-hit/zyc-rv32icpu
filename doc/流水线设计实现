使用SV设计实现

控制信号之类的用结构体管理方便
指令类型枚举实现
尝试DPI-C接口实现数据交互
always_ff always_comb 更安全

复杂测试程序通过
实现四级流水
流水线调试比单周期复杂 麻烦很多
用了DPI-C接口的方式实现数据交互 更接近硬件功能模块
DPI-C问题 结构体不方面 查到有结构体支持但是实际是一个数组 顺序还是调过来的

数据冒险和控制冒险实现方式 直接插nop
具体实现为 阻塞PC 将发生冒险的指令的所有写信号失能 ALU类型清零(这个是stall跳转指令用的)

difftest 实现
因为可能插入nop指令 所以用DPI-C接口更好 同单周期 每个周期监测寄存器写和内存写 调用C函数实现对比